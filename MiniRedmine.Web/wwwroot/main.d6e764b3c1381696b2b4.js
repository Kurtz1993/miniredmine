(window.webpackJsonpminiredmine_spa=window.webpackJsonpminiredmine_spa||[]).push([[179],{6700:(t,e,n)=>{var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id=6700},5474:(t,e,n)=>{"use strict";var s=n(1379),a=n(400),o=n(5120);const r=function(){const{subscribe:t,set:e,update:n}=(0,o.fZ)(JSON.parse(localStorage.getItem("REDMINE_USER"))??{unauthorized:!0});return{subscribe:t,register:t=>n(()=>(localStorage.setItem("REDMINE_USER",JSON.stringify(t)),t))}}();function i(t){let e,n,a,o,r,i,l,c,u;return{c(){e=(0,s.bG)("li"),n=(0,s.bG)("a"),n.textContent="Profile",a=(0,s.Dh)(),o=(0,s.bG)("li"),r=(0,s.bG)("a"),r.textContent="Issues",i=(0,s.Dh)(),l=(0,s.bG)("li"),c=(0,s.bG)("a"),c.textContent="Templates",(0,s.Lj)(n,"class","nav-link"),(0,s.Lj)(n,"href","/profile"),(0,s.Lj)(e,"class","nav-item"),(0,s.Lj)(r,"class","nav-link"),(0,s.Lj)(r,"href","/issues"),(0,s.Lj)(o,"class","nav-item"),(0,s.Lj)(c,"class","nav-link"),(0,s.Lj)(c,"href","/templates"),(0,s.Lj)(l,"class","nav-item")},m(j,f,m){(0,s.$T)(j,e,f),(0,s.R3)(e,n),(0,s.$T)(j,a,f),(0,s.$T)(j,o,f),(0,s.R3)(o,r),(0,s.$T)(j,i,f),(0,s.$T)(j,l,f),(0,s.R3)(l,c),m&&(0,s.j7)(u),u=[(0,s.oL)(n,"click",t[4]),(0,s.oL)(r,"click",t[5]),(0,s.oL)(c,"click",t[6])]},p:s.ZT,d(t){t&&(0,s.og)(e),t&&(0,s.og)(a),t&&(0,s.og)(o),t&&(0,s.og)(i),t&&(0,s.og)(l),(0,s.j7)(u)}}}function l(t){let e,n,a;return{c(){e=(0,s.bG)("li"),n=(0,s.bG)("a"),n.textContent="Login",(0,s.Lj)(n,"class","nav-link"),(0,s.Lj)(n,"href","/login"),(0,s.Lj)(e,"class","nav-item")},m(o,r,i){(0,s.$T)(o,e,r),(0,s.R3)(e,n),i&&a(),a=(0,s.oL)(n,"click",t[3])},p:s.ZT,d(t){t&&(0,s.og)(e),a()}}}function c(t){let e,n,a,o,r,c,u,j;function f(t,e){return!0===t[1].unauthorized?l:i}let m=f(t),d=m(t);return{c(){e=(0,s.bG)("nav"),n=(0,s.bG)("a"),n.textContent="Mini Redmine 2",a=(0,s.Dh)(),o=(0,s.bG)("button"),o.innerHTML='<span class="navbar-toggler-icon"></span>',r=(0,s.Dh)(),c=(0,s.bG)("div"),u=(0,s.bG)("ul"),d.c(),(0,s.Lj)(n,"class","navbar-brand"),(0,s.Lj)(n,"href","/"),(0,s.Lj)(o,"class","navbar-toggler"),(0,s.Lj)(o,"type","button"),(0,s.Lj)(o,"data-toggle","collapse"),(0,s.Lj)(o,"data-target","#mainnavbar"),(0,s.Lj)(o,"aria-controls","mainnavbar"),(0,s.Lj)(o,"aria-expanded","false"),(0,s.Lj)(o,"aria-label","Toggle navigation"),(0,s.Lj)(u,"class","navbar-nav mr-auto"),(0,s.Lj)(c,"class","collapse navbar-collapse"),(0,s.Lj)(c,"id","mainnavbar"),(0,s.Lj)(e,"class","navbar navbar-expand-lg navbar-dark bg-primary mb-3")},m(i,l,f){(0,s.$T)(i,e,l),(0,s.R3)(e,n),(0,s.R3)(e,a),(0,s.R3)(e,o),(0,s.R3)(e,r),(0,s.R3)(e,c),(0,s.R3)(c,u),d.m(u,null),f&&j(),j=(0,s.oL)(n,"click",t[2])},p(t,[e]){m===(m=f(t))&&d?d.p(t,e):(d.d(1),d=m(t),d&&(d.c(),d.m(u,null)))},i:s.ZT,o:s.ZT,d(t){t&&(0,s.og)(e),d.d(),j()}}}function u(t,e,n){let a;(0,s.FI)(t,r,t=>n(1,a=t));let{handleNavigation:o}=e;return t.$set=t=>{"handleNavigation"in t&&n(0,o=t.handleNavigation)},[o,a,t=>o(t,"/"),t=>o(t,"/login"),t=>o(t,"/profile"),t=>o(t,"/issues"),t=>o(t,"/templates")]}class j extends s.f_{constructor(t){super(),(0,s.S1)(this,t,u,c,s.N8,{handleNavigation:0})}}const f=j;function m(t){let e,n,a,o,r=t[0].firstname+"";return{c(){e=(0,s.bG)("p"),n=(0,s.fL)("Welcome "),a=(0,s.fL)(r),o=(0,s.fL)("."),(0,s.Lj)(e,"class","lead")},m(t,r){(0,s.$T)(t,e,r),(0,s.R3)(e,n),(0,s.R3)(e,a),(0,s.R3)(e,o)},p(t,e){1&e&&r!==(r=t[0].firstname+"")&&(0,s.rT)(a,r)},d(t){t&&(0,s.og)(e)}}}function d(t){let e;return{c(){e=(0,s.bG)("p"),e.textContent="Welcome you need to register your user info to use the app.",(0,s.Lj)(e,"class","lead")},m(t,n){(0,s.$T)(t,e,n)},p:s.ZT,d(t){t&&(0,s.og)(e)}}}function b(t){let e,n,a;function o(t,e){return!0===t[0].unauthorized?d:m}let r=o(t),i=r(t);return{c(){e=(0,s.bG)("div"),n=(0,s.bG)("h1"),n.textContent="MiniRedmine, Svelte!",a=(0,s.Dh)(),i.c(),(0,s.Lj)(n,"class","display-3"),(0,s.Lj)(e,"class","jumbotron")},m(t,o){(0,s.$T)(t,e,o),(0,s.R3)(e,n),(0,s.R3)(e,a),i.m(e,null)},p(t,[n]){r===(r=o(t))&&i?i.p(t,n):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},i:s.ZT,o:s.ZT,d(t){t&&(0,s.og)(e),i.d()}}}function h(t,e,n){let a;return(0,s.FI)(t,r,t=>n(0,a=t)),[a]}class p extends s.f_{constructor(t){super(),(0,s.S1)(this,t,h,b,s.N8,{})}}const g=p;n(9669);function R(t){let e,n,a,o,r,i,l,c,u,j,f,m;return{c(){e=(0,s.bG)("div"),n=(0,s.bG)("div"),a=(0,s.bG)("div"),o=(0,s.bG)("form"),r=(0,s.bG)("h1"),r.textContent="Please input your Redmine Api Key",i=(0,s.Dh)(),l=(0,s.bG)("label"),l.textContent="Api Key",c=(0,s.Dh)(),u=(0,s.bG)("input"),j=(0,s.Dh)(),f=(0,s.bG)("button"),f.textContent="Login",(0,s.Lj)(r,"class","h3 mb-3 font-weight-normal"),(0,s.Lj)(l,"for","inputApiKey"),(0,s.Lj)(l,"class","sr-only"),(0,s.Lj)(u,"type","text"),(0,s.Lj)(u,"id","inputApiKey"),(0,s.Lj)(u,"class","form-control"),(0,s.Lj)(u,"placeholder","Redmine Api Key"),u.required="",(0,s.Lj)(f,"class","btn btn-lg btn-primary btn-block"),(0,s.Lj)(f,"type","submit"),(0,s.Lj)(a,"class","col"),(0,s.Lj)(n,"class","row"),(0,s.Lj)(e,"class","container")},m(d,b,h){(0,s.$T)(d,e,b),(0,s.R3)(e,n),(0,s.R3)(n,a),(0,s.R3)(a,o),(0,s.R3)(o,r),(0,s.R3)(o,i),(0,s.R3)(o,l),(0,s.R3)(o,c),(0,s.R3)(o,u),(0,s.Bm)(u,t[0]),(0,s.R3)(o,j),(0,s.R3)(o,f),h&&(0,s.j7)(m),m=[(0,s.oL)(u,"input",t[3]),(0,s.oL)(o,"submit",t[1])]},p(t,[e]){1&e&&u.value!==t[0]&&(0,s.Bm)(u,t[0])},i:s.ZT,o:s.ZT,d(t){t&&(0,s.og)(e),(0,s.j7)(m)}}}function L(t,e,n){let{handleNavigation:s}=e;let a=null;return t.$set=t=>{"handleNavigation"in t&&n(2,s=t.handleNavigation)},[a,async function(t){t.preventDefault();const e=await fetch("api/redmine/userinfo?userApiKey="+a);r.register(await e.json()),s(null,"/")},s,function(){a=this.value,n(0,a)}]}class v extends s.f_{constructor(t){super(),(0,s.S1)(this,t,L,R,s.N8,{handleNavigation:2})}}const G=v;var y=n(381),$=n.n(y);function T(t){let e,n,a,o,r,i,l,c,u,j,f,m,d,b,h,p,g,R,L,v,G,y,$,T,D,k,_,S=t[0].firstname+"",w=t[0].lastname+"",I=t[0].login+"",N=t[0].id+"";return{c(){e=(0,s.bG)("div"),n=(0,s.bG)("div"),a=(0,s.bG)("div"),o=(0,s.bG)("div"),r=(0,s.bG)("div"),i=(0,s.bG)("div"),l=(0,s.bG)("div"),c=(0,s.bG)("h2"),u=(0,s.fL)("Name: "),j=(0,s.fL)(S),f=(0,s.Dh)(),m=(0,s.fL)(w),d=(0,s.Dh)(),b=(0,s.bG)("p"),h=(0,s.bG)("strong"),h.textContent="Login:",p=(0,s.Dh)(),g=(0,s.fL)(I),R=(0,s.Dh)(),L=(0,s.bG)("p"),v=(0,s.bG)("strong"),v.textContent="Last login:",G=(0,s.Dh)(),y=(0,s.fL)(t[1]),$=(0,s.Dh)(),T=(0,s.bG)("p"),D=(0,s.bG)("strong"),D.textContent="Id:",k=(0,s.Dh)(),_=(0,s.fL)(N),(0,s.Lj)(c,"class","card-title"),(0,s.Lj)(b,"class","card-text"),(0,s.Lj)(L,"class","card-text"),(0,s.Lj)(T,"class","card-text"),(0,s.Lj)(l,"class","col-md-8 col-sm-8"),(0,s.Lj)(i,"class","row"),(0,s.Lj)(r,"class","card-block"),(0,s.Lj)(o,"class","card card-inverse"),(0,s.cz)(o,"background-color","#333"),(0,s.cz)(o,"border-color","#333"),(0,s.Lj)(a,"class","col-12"),(0,s.Lj)(n,"class","row"),(0,s.Lj)(e,"class","container-fluid")},m(t,S){(0,s.$T)(t,e,S),(0,s.R3)(e,n),(0,s.R3)(n,a),(0,s.R3)(a,o),(0,s.R3)(o,r),(0,s.R3)(r,i),(0,s.R3)(i,l),(0,s.R3)(l,c),(0,s.R3)(c,u),(0,s.R3)(c,j),(0,s.R3)(c,f),(0,s.R3)(c,m),(0,s.R3)(l,d),(0,s.R3)(l,b),(0,s.R3)(b,h),(0,s.R3)(b,p),(0,s.R3)(b,g),(0,s.R3)(l,R),(0,s.R3)(l,L),(0,s.R3)(L,v),(0,s.R3)(L,G),(0,s.R3)(L,y),(0,s.R3)(l,$),(0,s.R3)(l,T),(0,s.R3)(T,D),(0,s.R3)(T,k),(0,s.R3)(T,_)},p(t,[e]){1&e&&S!==(S=t[0].firstname+"")&&(0,s.rT)(j,S),1&e&&w!==(w=t[0].lastname+"")&&(0,s.rT)(m,w),1&e&&I!==(I=t[0].login+"")&&(0,s.rT)(g,I),1&e&&N!==(N=t[0].id+"")&&(0,s.rT)(_,N)},i:s.ZT,o:s.ZT,d(t){t&&(0,s.og)(e)}}}function D(t,e,n){let a;(0,s.FI)(t,r,t=>n(0,a=t));const o=$()(a.last_login_on).format("YYYY-MMM-DD HH:mm Z");return[a,o]}class k extends s.f_{constructor(t){super(),(0,s.S1)(this,t,D,T,s.N8,{})}}const _=k;const S=function(){const{subscribe:t,set:e,update:n}=(0,o.fZ)(JSON.parse(localStorage.getItem("REDMINE_USER_ISSUES")??"[]"));return{subscribe:t,updateIssues:t=>n(()=>(localStorage.setItem("REDMINE_USER_ISSUES",JSON.stringify(t)),t))}}();function w(t,e,n){const s=t.slice();return s[7]=e[n],s}function I(t,e){let n,a,o,r,i,l,c,u,j,f,m,d=e[7].id+"",b=e[7].subject+"";function h(...t){return e[6](e[7],...t)}return{key:t,first:null,c(){n=(0,s.bG)("tr"),a=(0,s.bG)("td"),o=(0,s.fL)(d),r=(0,s.Dh)(),i=(0,s.bG)("td"),l=(0,s.fL)(b),c=(0,s.Dh)(),u=(0,s.bG)("td"),j=(0,s.bG)("button"),j.innerHTML='<i class="fas fa-trash"></i>',f=(0,s.Dh)(),(0,s.Lj)(j,"type","button"),(0,s.Lj)(j,"class","btn btn-sm btn-danger"),this.first=n},m(t,e,d){(0,s.$T)(t,n,e),(0,s.R3)(n,a),(0,s.R3)(a,o),(0,s.R3)(n,r),(0,s.R3)(n,i),(0,s.R3)(i,l),(0,s.R3)(n,c),(0,s.R3)(n,u),(0,s.R3)(u,j),(0,s.R3)(n,f),d&&m(),m=(0,s.oL)(j,"click",h)},p(t,n){e=t,2&n&&d!==(d=e[7].id+"")&&(0,s.rT)(o,d),2&n&&b!==(b=e[7].subject+"")&&(0,s.rT)(l,b)},d(t){t&&(0,s.og)(n),m()}}}function N(t){let e,n,a,o,r,i,l,c,u,j,f,m,d,b,h=[],p=new Map,g=t[1];const R=t=>t[7].id;for(let e=0;e<g.length;e+=1){let n=w(t,g,e),s=R(n);p.set(s,h[e]=I(s,n))}return{c(){e=(0,s.bG)("div"),n=(0,s.bG)("div"),a=(0,s.bG)("div"),o=(0,s.bG)("form"),r=(0,s.bG)("input"),i=(0,s.Dh)(),l=(0,s.bG)("button"),l.innerHTML='<i class="fas fa-plus-circle"></i>',c=(0,s.Dh)(),u=(0,s.bG)("div"),j=(0,s.bG)("table"),f=(0,s.bG)("thead"),f.innerHTML="<tr><th>Issue</th> \n            <th>Subject</th> \n            <th></th></tr>",m=(0,s.Dh)(),d=(0,s.bG)("tbody");for(let t=0;t<h.length;t+=1)h[t].c();(0,s.Lj)(r,"type","number"),(0,s.Lj)(r,"min","1"),(0,s.Lj)(r,"max","9999999"),(0,s.Lj)(r,"class","form-control"),(0,s.Lj)(l,"type","submit"),(0,s.Lj)(l,"class","btn btn-sm btn-success"),(0,s.Lj)(a,"class","col"),(0,s.Lj)(j,"class","table table-striped"),(0,s.Lj)(u,"class","col"),(0,s.Lj)(n,"class","row"),(0,s.Lj)(e,"class","container")},m(p,g,R){(0,s.$T)(p,e,g),(0,s.R3)(e,n),(0,s.R3)(n,a),(0,s.R3)(a,o),(0,s.R3)(o,r),(0,s.Bm)(r,t[0]),(0,s.R3)(o,i),(0,s.R3)(o,l),(0,s.R3)(n,c),(0,s.R3)(n,u),(0,s.R3)(u,j),(0,s.R3)(j,f),(0,s.R3)(j,m),(0,s.R3)(j,d);for(let t=0;t<h.length;t+=1)h[t].m(d,null);R&&(0,s.j7)(b),b=[(0,s.oL)(r,"input",t[5]),(0,s.oL)(o,"submit",t[2])]},p(t,[e]){if(1&e&&(0,s.sC)(r.value)!==t[0]&&(0,s.Bm)(r,t[0]),10&e){const n=t[1];h=(0,s.GQ)(h,e,R,1,t,n,p,d,s.OC,I,null,w)}},i:s.ZT,o:s.ZT,d(t){t&&(0,s.og)(e);for(let t=0;t<h.length;t+=1)h[t].d();(0,s.j7)(b)}}}function C(t,e,n){let a,o;function i(t,e){t.preventDefault();let n=-1,s=Array.from(a);for(let t=0;t<s.length;t++){s[t].id===e&&(n=t)}n>=0&&(s.splice(n,1),S.updateIssues(s))}(0,s.FI)(t,S,t=>n(1,a=t)),(0,s.FI)(t,r,t=>n(4,o=t));let l=0;return[l,a,async function(t){t.preventDefault();let e=!1,n=Array.from(a);for(let t=0;t<n.length;t++){n[t].id===l&&(e=!0)}if(!1===e){const t=await fetch(`api/redmine/issue/${l}?userApiKey=${o.api_key}`);n.push(await t.json()),S.updateIssues(n)}},i,o,function(){l=(0,s.sC)(this.value),n(0,l)},(t,e)=>i(e,t.id)]}class x extends s.f_{constructor(t){super(),(0,s.S1)(this,t,C,N,s.N8,{})}}const z=x;const E=function(){const{subscribe:t,set:e,update:n}=(0,o.fZ)(JSON.parse(localStorage.getItem("REDMINE_USER_TEMPLATES")??"[]"));return{subscribe:t,updateTemplates:t=>n(()=>(localStorage.setItem("REDMINE_USER_TEMPLATES",JSON.stringify(t)),t))}}();const M=function(){const{subscribe:t,set:e,update:n}=(0,o.fZ)(JSON.parse(sessionStorage.getItem("REDMINE_ACTIVITIES")??"[]"));return{subscribe:t,updateActivities:t=>n(()=>(sessionStorage.setItem("REDMINE_ACTIVITIES",JSON.stringify(t)),t))}}();function Z(t,e,n){const s=t.slice();return s[15]=e[n],s}function A(t,e,n){const s=t.slice();return s[18]=e[n],s}function U(t,e,n){const s=t.slice();return s[21]=e[n],s}function H(t,e){let n,a,o,r=e[21].subject+"";return{key:t,first:null,c(){n=(0,s.bG)("option"),a=(0,s.fL)(r),n.__value=o=e[21].id,n.value=n.__value,this.first=n},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,a)},p(t,e){8&e&&r!==(r=t[21].subject+"")&&(0,s.rT)(a,r),8&e&&o!==(o=t[21].id)&&(n.__value=o),n.value=n.__value},d(t){t&&(0,s.og)(n)}}}function O(t,e){let n,a,o,r=e[18].name+"";return{key:t,first:null,c(){n=(0,s.bG)("option"),a=(0,s.fL)(r),n.__value=o=e[18].id,n.value=n.__value,this.first=n},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,a)},p(t,e){4&e&&r!==(r=t[18].name+"")&&(0,s.rT)(a,r),4&e&&o!==(o=t[18].id)&&(n.__value=o),n.value=n.__value},d(t){t&&(0,s.og)(n)}}}function F(t,e){let n,a,o,r,i,l,c,u,j,f,m,d,b,h,p,g,R,L=e[7](e[15].issue)+"",v=e[6](e[15].activity)+"",G=e[15].comments+"",y=e[15].hours+"";function $(...t){return e[14](e[15],...t)}return{key:t,first:null,c(){n=(0,s.bG)("tr"),a=(0,s.bG)("td"),o=(0,s.fL)(L),r=(0,s.Dh)(),i=(0,s.bG)("td"),l=(0,s.fL)(v),c=(0,s.Dh)(),u=(0,s.bG)("td"),j=(0,s.fL)(G),f=(0,s.Dh)(),m=(0,s.bG)("td"),d=(0,s.fL)(y),b=(0,s.Dh)(),h=(0,s.bG)("td"),p=(0,s.bG)("button"),p.innerHTML='<i class="fas fa-trash"></i>',g=(0,s.Dh)(),(0,s.Lj)(p,"type","button"),(0,s.Lj)(p,"class","btn btn-sm btn-danger"),this.first=n},m(t,e,L){(0,s.$T)(t,n,e),(0,s.R3)(n,a),(0,s.R3)(a,o),(0,s.R3)(n,r),(0,s.R3)(n,i),(0,s.R3)(i,l),(0,s.R3)(n,c),(0,s.R3)(n,u),(0,s.R3)(u,j),(0,s.R3)(n,f),(0,s.R3)(n,m),(0,s.R3)(m,d),(0,s.R3)(n,b),(0,s.R3)(n,h),(0,s.R3)(h,p),(0,s.R3)(n,g),L&&R(),R=(0,s.oL)(p,"click",$)},p(t,n){e=t,2&n&&L!==(L=e[7](e[15].issue)+"")&&(0,s.rT)(o,L),2&n&&v!==(v=e[6](e[15].activity)+"")&&(0,s.rT)(l,v),2&n&&G!==(G=e[15].comments+"")&&(0,s.rT)(j,G),2&n&&y!==(y=e[15].hours+"")&&(0,s.rT)(d,y)},d(t){t&&(0,s.og)(n),R()}}}function Y(t){let e,n,a,o,r,i,l,c,u,j,f,m,d,b,h,p,g,R,L,v,G,y,$,T,D,k,_,S,w,I,N,C,x,z,E,M,Y,J,B,K=[],P=new Map,W=[],Q=new Map,q=t[1].reduce(t[13],0)+"",V=[],X=new Map,tt=t[3];const et=t=>t[21].id;for(let e=0;e<tt.length;e+=1){let n=U(t,tt,e),s=et(n);P.set(s,K[e]=H(s,n))}let nt=t[2];const st=t=>t[18].id;for(let e=0;e<nt.length;e+=1){let n=A(t,nt,e),s=st(n);Q.set(s,W[e]=O(s,n))}let at=t[1];const ot=t=>t[15].id;for(let e=0;e<at.length;e+=1){let n=Z(t,at,e),s=ot(n);X.set(s,V[e]=F(s,n))}return{c(){e=(0,s.bG)("div"),n=(0,s.bG)("div"),a=(0,s.bG)("div"),o=(0,s.bG)("form"),r=(0,s.bG)("div"),i=(0,s.bG)("label"),i.textContent="Issue",l=(0,s.Dh)(),c=(0,s.bG)("select"),u=(0,s.bG)("option"),u.textContent="--Select an issue--";for(let t=0;t<K.length;t+=1)K[t].c();j=(0,s.Dh)(),f=(0,s.bG)("div"),m=(0,s.bG)("label"),m.textContent="Activity",d=(0,s.Dh)(),b=(0,s.bG)("select"),h=(0,s.bG)("option"),h.textContent="--Select an activity--";for(let t=0;t<W.length;t+=1)W[t].c();p=(0,s.Dh)(),g=(0,s.bG)("div"),R=(0,s.bG)("label"),R.textContent="Comments",L=(0,s.Dh)(),v=(0,s.bG)("input"),G=(0,s.Dh)(),y=(0,s.bG)("div"),$=(0,s.bG)("label"),$.textContent="Hours",T=(0,s.Dh)(),D=(0,s.bG)("input"),k=(0,s.Dh)(),_=(0,s.bG)("button"),_.innerHTML='<i class="fas fa-plus-circle"></i>',S=(0,s.Dh)(),w=(0,s.bG)("div"),I=(0,s.bG)("table"),N=(0,s.bG)("caption"),C=(0,s.bG)("p"),x=(0,s.fL)("Total Hours: "),z=(0,s.fL)(q),E=(0,s.Dh)(),M=(0,s.bG)("thead"),M.innerHTML="<tr><th>Issue</th> \n            <th>Activty</th> \n            <th>Comments</th> \n            <th>Hours</th> \n            <th></th></tr>",Y=(0,s.Dh)(),J=(0,s.bG)("tbody");for(let t=0;t<V.length;t+=1)V[t].c();(0,s.Lj)(i,"for","Issue"),u.__value="",u.value=u.__value,u.selected=!0,(0,s.Lj)(c,"class","form-control"),(0,s.Lj)(c,"name","Issue"),void 0===t[0].issue&&(0,s.P$)(()=>t[9].call(c)),(0,s.Lj)(r,"class","form-group"),(0,s.Lj)(m,"for","Issue"),h.__value="",h.value=h.__value,h.selected=!0,(0,s.Lj)(b,"class","form-control"),(0,s.Lj)(b,"name","Activity"),void 0===t[0].activity&&(0,s.P$)(()=>t[10].call(b)),(0,s.Lj)(f,"class","form-group"),(0,s.Lj)(R,"for","Comments"),(0,s.Lj)(v,"type","text"),(0,s.Lj)(v,"class","form-control"),(0,s.Lj)(v,"placeholder","Comments"),(0,s.Lj)(g,"class","form-group"),(0,s.Lj)($,"for","Hours"),(0,s.Lj)(D,"type","number"),(0,s.Lj)(D,"min","0.0"),(0,s.Lj)(D,"max","24.0"),(0,s.Lj)(D,"step","0.5"),(0,s.Lj)(D,"class","form-control"),(0,s.Lj)(D,"placeholder","Hours"),(0,s.Lj)(y,"class","form-group"),(0,s.Lj)(_,"type","submit"),(0,s.Lj)(_,"class","btn btn-sm btn-success"),(0,s.Lj)(a,"class","col"),(0,s.Lj)(C,"class","text-info"),(0,s.Lj)(I,"class","table table-striped"),(0,s.Lj)(w,"class","col"),(0,s.Lj)(n,"class","row"),(0,s.Lj)(e,"class","container")},m(Z,A,U){(0,s.$T)(Z,e,A),(0,s.R3)(e,n),(0,s.R3)(n,a),(0,s.R3)(a,o),(0,s.R3)(o,r),(0,s.R3)(r,i),(0,s.R3)(r,l),(0,s.R3)(r,c),(0,s.R3)(c,u);for(let t=0;t<K.length;t+=1)K[t].m(c,null);(0,s.oW)(c,t[0].issue),(0,s.R3)(o,j),(0,s.R3)(o,f),(0,s.R3)(f,m),(0,s.R3)(f,d),(0,s.R3)(f,b),(0,s.R3)(b,h);for(let t=0;t<W.length;t+=1)W[t].m(b,null);(0,s.oW)(b,t[0].activity),(0,s.R3)(o,p),(0,s.R3)(o,g),(0,s.R3)(g,R),(0,s.R3)(g,L),(0,s.R3)(g,v),(0,s.Bm)(v,t[0].comments),(0,s.R3)(o,G),(0,s.R3)(o,y),(0,s.R3)(y,$),(0,s.R3)(y,T),(0,s.R3)(y,D),(0,s.Bm)(D,t[0].hours),(0,s.R3)(o,k),(0,s.R3)(o,_),(0,s.R3)(n,S),(0,s.R3)(n,w),(0,s.R3)(w,I),(0,s.R3)(I,N),(0,s.R3)(N,C),(0,s.R3)(C,x),(0,s.R3)(C,z),(0,s.R3)(I,E),(0,s.R3)(I,M),(0,s.R3)(I,Y),(0,s.R3)(I,J);for(let t=0;t<V.length;t+=1)V[t].m(J,null);U&&(0,s.j7)(B),B=[(0,s.oL)(c,"change",t[9]),(0,s.oL)(b,"change",t[10]),(0,s.oL)(v,"input",t[11]),(0,s.oL)(D,"input",t[12]),(0,s.oL)(o,"submit",t[4])]},p(t,[e]){if(8&e){const n=t[3];K=(0,s.GQ)(K,e,et,1,t,n,P,c,s.OC,H,null,U)}if(1&e&&(0,s.oW)(c,t[0].issue),4&e){const n=t[2];W=(0,s.GQ)(W,e,st,1,t,n,Q,b,s.OC,O,null,A)}if(1&e&&(0,s.oW)(b,t[0].activity),1&e&&v.value!==t[0].comments&&(0,s.Bm)(v,t[0].comments),1&e&&(0,s.sC)(D.value)!==t[0].hours&&(0,s.Bm)(D,t[0].hours),2&e&&q!==(q=t[1].reduce(t[13],0)+"")&&(0,s.rT)(z,q),226&e){const n=t[1];V=(0,s.GQ)(V,e,ot,1,t,n,X,J,s.OC,F,null,Z)}},i:s.ZT,o:s.ZT,d(t){t&&(0,s.og)(e);for(let t=0;t<K.length;t+=1)K[t].d();for(let t=0;t<W.length;t+=1)W[t].d();for(let t=0;t<V.length;t+=1)V[t].d();(0,s.j7)(B)}}}function J(){const t=new Date;return{id:`${t.getFullYear()}${t.getMonth()}${t.getDay()}${t.getHours()}${t.getMinutes()}${t.getSeconds()}${t.getMilliseconds()}`,issue:"",activity:"",comments:"",hours:0}}function B(t,e,n){let o,i,l,c;function u(t,e){t.preventDefault();let n=-1,s=Array.from(o);for(let t=0;t<s.length;t++){s[t].id===e&&(n=t)}n>=0&&(s.splice(n,1),E.updateTemplates(s))}(0,s.FI)(t,E,t=>n(1,o=t)),(0,s.FI)(t,M,t=>n(2,i=t)),(0,s.FI)(t,S,t=>n(3,l=t)),(0,s.FI)(t,r,t=>n(8,c=t));let j=J();(0,a.H3)(async()=>{if(void 0===c.unauthorized&&0===i.length){const t=await fetch("api/redmine/timeentryactivities?userApiKey="+c.api_key),e=await t.json();M.updateActivties(e)}});return[j,o,i,l,function(t){t.preventDefault();let e=Array.from(o);e.push(j),E.updateTemplates(e),n(0,j=J())},u,function(t){let e="";for(let n=0;n<i.length;n++){const s=i[n];if(s.id===t){e=s.name;break}}return e},function(t){let e="";for(let n=0;n<l.length;n++){const s=l[n];if(s.id===t){e=s.subject;break}}return e},c,function(){j.issue=(0,s.SA)(this),n(0,j)},function(){j.activity=(0,s.SA)(this),n(0,j)},function(){j.comments=this.value,n(0,j)},function(){j.hours=(0,s.sC)(this.value),n(0,j)},(t,e)=>t+Number.parseFloat(e.hours),(t,e)=>u(e,t.id)]}class K extends s.f_{constructor(t){super(),(0,s.S1)(this,t,B,Y,s.N8,{})}}const P=K;function W(t){let e;const n=new g({});return{c(){(0,s.YC)(n.$$.fragment)},m(t,a){(0,s.ye)(n,t,a),e=!0},p:s.ZT,i(t){e||((0,s.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,s.et)(n.$$.fragment,t),e=!1},d(t){(0,s.vp)(n,t)}}}function Q(t){let e;const n=new P({});return{c(){(0,s.YC)(n.$$.fragment)},m(t,a){(0,s.ye)(n,t,a),e=!0},p:s.ZT,i(t){e||((0,s.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,s.et)(n.$$.fragment,t),e=!1},d(t){(0,s.vp)(n,t)}}}function q(t){let e;const n=new z({});return{c(){(0,s.YC)(n.$$.fragment)},m(t,a){(0,s.ye)(n,t,a),e=!0},p:s.ZT,i(t){e||((0,s.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,s.et)(n.$$.fragment,t),e=!1},d(t){(0,s.vp)(n,t)}}}function V(t){let e;const n=new _({});return{c(){(0,s.YC)(n.$$.fragment)},m(t,a){(0,s.ye)(n,t,a),e=!0},p:s.ZT,i(t){e||((0,s.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,s.et)(n.$$.fragment,t),e=!1},d(t){(0,s.vp)(n,t)}}}function X(t){let e;const n=new G({props:{handleNavigation:t[0]}});return{c(){(0,s.YC)(n.$$.fragment)},m(t,a){(0,s.ye)(n,t,a),e=!0},p(t,e){const s={};1&e&&(s.handleNavigation=t[0]),n.$set(s)},i(t){e||((0,s.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,s.et)(n.$$.fragment,t),e=!1},d(t){(0,s.vp)(n,t)}}}function tt(t){let e;const n=new g({});return{c(){(0,s.YC)(n.$$.fragment)},m(t,a){(0,s.ye)(n,t,a),e=!0},p:s.ZT,i(t){e||((0,s.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,s.et)(n.$$.fragment,t),e=!1},d(t){(0,s.vp)(n,t)}}}function et(t){let e,n,a,o;const r=[tt,X,V,q,Q,W],i=[];function l(t,e){return"/"===t[1]?0:"/login"===t[1]&&!0===t[2].unauthorized?1:"/profile"===t[1]&&void 0===t[2].unauthorized?2:"/issues"===t[1]&&void 0===t[2].unauthorized?3:"/templates"===t[1]&&void 0===t[2].unauthorized?4:5}return e=l(t),n=i[e]=r[e](t),{c(){n.c(),a=(0,s.cS)()},m(t,n){i[e].m(t,n),(0,s.$T)(t,a,n),o=!0},p(t,[o]){let c=e;e=l(t),e===c?i[e].p(t,o):((0,s.dv)(),(0,s.et)(i[c],1,1,()=>{i[c]=null}),(0,s.gb)(),n=i[e],n||(n=i[e]=r[e](t),n.c()),(0,s.Ui)(n,1),n.m(a.parentNode,a))},i(t){o||((0,s.Ui)(n),o=!0)},o(t){(0,s.et)(n),o=!1},d(t){i[e].d(t),t&&(0,s.og)(a)}}}function nt(t,e,n){let a;(0,s.FI)(t,r,t=>n(2,a=t));let{handleNavigation:o}=e,{currentRoute:i}=e;return t.$set=t=>{"handleNavigation"in t&&n(0,o=t.handleNavigation),"currentRoute"in t&&n(1,i=t.currentRoute)},[o,i,a]}class st extends s.f_{constructor(t){super(),(0,s.S1)(this,t,nt,et,s.N8,{handleNavigation:0,currentRoute:1})}}const at=st;function ot(t){let e,n;const a=new f({props:{handleNavigation:t[1]}}),o=new at({props:{handleNavigation:t[1],currentRoute:t[0]}});return{c(){(0,s.YC)(a.$$.fragment),e=(0,s.Dh)(),(0,s.YC)(o.$$.fragment)},m(t,r){(0,s.ye)(a,t,r),(0,s.$T)(t,e,r),(0,s.ye)(o,t,r),n=!0},p(t,[e]){const n={};1&e&&(n.currentRoute=t[0]),o.$set(n)},i(t){n||((0,s.Ui)(a.$$.fragment,t),(0,s.Ui)(o.$$.fragment,t),n=!0)},o(t){(0,s.et)(a.$$.fragment,t),(0,s.et)(o.$$.fragment,t),n=!1},d(t){(0,s.vp)(a,t),t&&(0,s.og)(e),(0,s.vp)(o,t)}}}function rt(t,e,n){function s(t,e){t&&t.preventDefault(),window.history.replaceState(null,function(t){let e;switch(t){case"/login":e="Login";break;case"/profile":e="Profile";break;case"/issues":e="Issues";break;case"/templates":e="Templates";break;default:e="Index"}return e}(e),e),n(0,o=e)}let o="/";return(0,a.H3)(()=>{s(null,window.location.pathname)}),[o,s]}class it extends s.f_{constructor(t){super(),(0,s.S1)(this,t,rt,ot,s.N8,{})}}const lt=new it({target:document.body});window.app=lt}},[[5474,303,882]]]);